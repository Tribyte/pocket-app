(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(27)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),o=a.n(i),s=a(3),c=a(4),l=a(5),u=a(6),p=a(8),h=a(1),d=a(2),m=a.n(d),f=a(7);a(11),a(19);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),y=r.a.createElement("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"}),O=function(e){var t=e.svgRef,a=e.title,n=v(e,["svgRef","title"]);return r.a.createElement("svg",g({className:"icon icon-tabler icon-tabler-arrow-back-up",width:44,height:44,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?r.a.createElement("title",null,a):null,b,y)},E=r.a.forwardRef((function(e,t){return r.a.createElement(O,g({svgRef:t},e))})),j=(a.p,function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e;return e=this.props.search?r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"search",placeholder:"Search..."})):r.a.createElement("h1",null,this.props.title),r.a.createElement("div",{className:"nav"},this.props.previous&&r.a.createElement("button",{className:"back",onClick:this.props.previous},r.a.createElement(E,null)),e)}}]),a}(r.a.Component));a(20);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var S=r.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),C=r.a.createElement("line",{x1:4,y1:6,x2:20,y2:6}),x=r.a.createElement("line",{x1:4,y1:12,x2:20,y2:12}),N=r.a.createElement("line",{x1:4,y1:18,x2:20,y2:18}),P=function(e){var t=e.svgRef,a=e.title,n=w(e,["svgRef","title"]);return r.a.createElement("svg",k({className:"icon icon-tabler icon-tabler-menu-2",width:44,height:44,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?r.a.createElement("title",null,a):null,S,C,x,N)},T=r.a.forwardRef((function(e,t){return r.a.createElement(P,k({svgRef:t},e))})),R=(a.p,function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:(this.props.navClosed?"active ":"")+"bottom-nav"},r.a.createElement("div",{className:"nav-flex"},this.props.menu?r.a.createElement("button",{className:"menu"},this.props.menu):r.a.createElement("button",{className:"menu",onClick:this.props.toggleNav},r.a.createElement(T,null)),this.props.one&&r.a.createElement("button",{className:"dropdown one"},this.props.one),this.props.two&&r.a.createElement("button",{className:"dropdown two"},this.props.two)))}}]),a}(r.a.Component)),D=(a(21),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setPage=n.setPage.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"setPage",value:function(){this.props.setPage("campaign",this.props.values.id)}},{key:"render",value:function(){return r.a.createElement("div",{onClick:this.setPage,className:"campaignCard"},r.a.createElement("h1",{className:"title"},this.props.values.title))}}]),a}(r.a.Component));function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var L=r.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),K=r.a.createElement("line",{x1:12,y1:5,x2:12,y2:19}),J=r.a.createElement("line",{x1:5,y1:12,x2:19,y2:12}),z=function(e){var t=e.svgRef,a=e.title,n=M(e,["svgRef","title"]);return r.a.createElement("svg",I({className:"icon icon-tabler icon-tabler-plus",width:44,height:44,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?r.a.createElement("title",null,a):null,L,K,J)},B=r.a.forwardRef((function(e,t){return r.a.createElement(z,I({svgRef:t},e))}));a.p;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var H=r.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),U=r.a.createElement("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),G=r.a.createElement("polyline",{points:"7 11 12 16 17 11"}),A=r.a.createElement("line",{x1:12,y1:4,x2:12,y2:16}),$=function(e){var t=e.svgRef,a=e.title,n=F(e,["svgRef","title"]);return r.a.createElement("svg",W({className:"icon icon-tabler icon-tabler-download",width:44,height:44,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?r.a.createElement("title",null,a):null,H,U,G,A)},_=r.a.forwardRef((function(e,t){return r.a.createElement($,W({svgRef:t},e))})),q=(a.p,function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={campaigns:[]},n.campaignForm=n.campaignForm.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadUserCampaigns()}},{key:"campaignForm",value:function(){this.props.setPage("campaign form",-1)}},{key:"loadUserCampaigns",value:function(){var e=this;this.getUserCampaigns().then((function(t){var a=[];t.forEach((function(e){a.push({id:e.id,title:e.title})})),e.setState({campaigns:a})})).catch((function(e){return console.log(e)}))}},{key:"getUserCampaigns",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/campaigns/",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:" Token "+localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j,{search:!0}),r.a.createElement("div",{className:"deckPage"},this.state.campaigns.map((function(t,a){return r.a.createElement(D,{key:a,setPage:e.props.setPage,values:t})}))),r.a.createElement(R,{navClosed:this.props.navClosed,toggleNav:this.props.toggleNav,one:r.a.createElement(B,{onClick:this.campaignForm}),two:r.a.createElement(_,null),setPage:this.setPage}))}}]),a}(r.a.Component)),Q=(a(22),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setPage=n.setPage.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"setPage",value:function(){this.props.setPage("card form",this.props.values.id)}},{key:"render",value:function(){return r.a.createElement("div",{onClick:this.setPage,className:"cardCard"},r.a.createElement("div",{className:"img"}),r.a.createElement("h1",{className:"title"},this.props.values.name))}}]),a}(r.a.Component));function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Y=r.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Z=r.a.createElement("path",{d:"M5.5 5h13a1 1 0 0 1 .5 1.5l-5 5.5l0 7l-4 -3l0 -4l-5 -5.5a1 1 0 0 1 .5 -1.5"}),ee=function(e){var t=e.svgRef,a=e.title,n=X(e,["svgRef","title"]);return r.a.createElement("svg",V({className:"icon icon-tabler icon-tabler-filter",width:44,height:44,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?r.a.createElement("title",null,a):null,Y,Z)},te=r.a.forwardRef((function(e,t){return r.a.createElement(ee,V({svgRef:t},e))})),ae=(a.p,function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={cards:[]},n.cardForm=n.cardForm.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"cardForm",value:function(){this.props.setPage("card form",-1)}},{key:"componentDidMount",value:function(){this.loadCards()}},{key:"loadCards",value:function(){var e=this;this.getCards().then((function(t){e.setState({cards:t.cards})})).catch((function(e){return console.log(e)}))}},{key:"getCards",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/campaigns/"+this.props.id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:" Token "+localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j,{search:!0,previous:this.props.previous}),r.a.createElement("div",{className:"campaignPage"},this.state.cards.map((function(t,a){return r.a.createElement(Q,{key:a,setPage:e.props.setPage,values:t})}))),r.a.createElement(R,{navClosed:this.props.navClosed,toggleNav:this.props.toggleNav,one:r.a.createElement(te,null),two:r.a.createElement(B,{onClick:this.cardForm}),setPage:this.setPage}))}}]),a}(r.a.Component)),ne=a(9);a(23);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var oe=r.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),se=r.a.createElement("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),ce=r.a.createElement("circle",{cx:12,cy:14,r:2}),le=r.a.createElement("polyline",{points:"14 4 14 8 8 8 8 4"}),ue=function(e){var t=e.svgRef,a=e.title,n=ie(e,["svgRef","title"]);return r.a.createElement("svg",re({className:"icon icon-tabler icon-tabler-device-floppy",width:44,height:44,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?r.a.createElement("title",null,a):null,oe,se,ce,le)},pe=r.a.forwardRef((function(e,t){return r.a.createElement(ue,re({svgRef:t},e))})),he=(a.p,function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={title:"",description:""},n.index=n.index.bind(Object(h.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(h.a)(n)),n.input=n.input.bind(Object(h.a)(n)),n.submit=n.submit.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"index",value:function(){this.props.setPage("index",0)}},{key:"handleKeyDown",value:function(e){e.target.style.height="inherit",e.target.style.height="".concat(e.target.scrollHeight,"px")}},{key:"input",value:function(e){var t=e.target;this.setState(Object(ne.a)({},t.name,t.value))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.campaignSubmit().then((function(e){t.setState({title:"",description:""}),t.props.previous()}))}},{key:"campaignSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/campaigns/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:" Token "+localStorage.getItem("token")},body:JSON.stringify({title:this.state.title,description:this.state.description,private:"true"})});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{search:!1,previous:this.props.previous,title:"Create Campaign"}),r.a.createElement("form",{className:"campaign-form"},r.a.createElement("div",{className:"img"}),r.a.createElement("input",{onChange:this.input,type:"text",name:"title",placeholder:"Title",value:this.state.title,autoComplete:"off"}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{onChange:this.input,name:"description",value:this.state.description,onKeyDown:this.handleKeyDown})),r.a.createElement(R,{navClosed:this.props.navClosed,toggleNav:this.props.toggleNav,menu:r.a.createElement(pe,{onClick:this.submit}),setPage:this.setPage}))}}]),a}(r.a.Component)),de=(a(24),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).mode="cors",n.headers={"Content-Type":"application/json",Authorization:" Token "+localStorage.getItem("token")},n.state={name:"",description:"",notes:[],tags:[]},n.handleKeyDown=n.handleKeyDown.bind(Object(h.a)(n)),n.togglePrivate=n.togglePrivate.bind(Object(h.a)(n)),n.toggleSelected=n.toggleSelected.bind(Object(h.a)(n)),n.noteChange=n.noteChange.bind(Object(h.a)(n)),n.tagChange=n.tagChange.bind(Object(h.a)(n)),n.input=n.input.bind(Object(h.a)(n)),n.addNote=n.addNote.bind(Object(h.a)(n)),n.addTag=n.addTag.bind(Object(h.a)(n)),n.loadTags=n.loadTags.bind(Object(h.a)(n)),n.submit=n.submit.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.cardid?this.loadCards():this.loadTags()}},{key:"handleKeyDown",value:function(e){e.target.style.height="inherit",e.target.style.height="".concat(e.target.scrollHeight,"px")}},{key:"togglePrivate",value:function(e){var t=e.target,a=this.state.notes;a[t.name].private=!a[t.name].private,this.setState({notes:a})}},{key:"toggleSelected",value:function(e){var t=e.target,a=this.state.tags;a[t.name].selected=!a[t.name].selected,this.setState({tags:a})}},{key:"noteChange",value:function(e){var t=e.target,a=this.state.notes;a[t.name].note=t.value,this.setState({notes:a})}},{key:"tagChange",value:function(e){var t=e.target,a=this.state.tags;a[t.name].tag=t.value,this.setState({tags:a})}},{key:"input",value:function(e){var t=e.target;this.setState(Object(ne.a)({},t.name,t.value))}},{key:"addNote",value:function(e){e.preventDefault(),this.setState({notes:[].concat(Object(p.a)(this.state.notes),[{id:-1,private:!0,note:""}])})}},{key:"addTag",value:function(e){e.preventDefault(),this.setState({tags:[].concat(Object(p.a)(this.state.tags),[{id:-1,selected:!1,tag:""}])})}},{key:"loadCards",value:function(){var e=this;this.getCards().then((function(t){e.setState({name:t.name}),e.setState({description:t.description}),t.notes.map((function(t,a){return e.getNote(t).then((function(t){e.setState({notes:[].concat(Object(p.a)(e.state.notes),[{id:t.id,private:t.private,note:t.note}])})}))}));var a=t.tags;e.getTags().then((function(t){t.tags.forEach((function(t){var n=!1;a.forEach((function(e){t.id===e&&(n=!0)})),e.setState({tags:[].concat(Object(p.a)(e.state.tags),[{id:t.id,selected:n,tag:t.tag}])})}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}},{key:"getNote",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes/"+t,{method:"GET",mode:this.mode,headers:this.headers});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCards",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/cards/"+this.props.cardid,{method:"GET",mode:this.mode,headers:this.headers});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTags",value:function(){var e=this;this.getTags().then((function(t){t.tags.forEach((function(t,a){e.setState({tags:[].concat(Object(p.a)(e.state.tags),[{id:t.id,selected:!1,tag:t.tag}])})}))})).catch((function(e){return console.log(e)}))}},{key:"getTags",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/campaigns/"+this.props.id,{method:"GET",mode:this.mode,headers:this.headers});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.props.cardid?this.cardEditSubmit(this.props.cardid).then((function(e){t.state.tags.forEach((function(e){-1===e.id?e.selected?t.tagSubmit(e.tag,t.props.cardid).then((function(e){})):t.tagCampaignSubmit(e.tag).then((function(e){})):t.tagEditSubmit(e.tag,t.props.cardid,e.id,e.selected)})),t.state.notes.forEach((function(e){-1===e.id?t.noteSubmit(e.note,e.private,t.props.cardid).then((function(e){})):t.noteEditSubmit(e.note,e.private,e.id).then((function(e){}))})),t.props.previous()})):this.cardSubmit().then((function(e){var a=e.id;t.state.tags.forEach((function(e){-1===e.id?e.selected?t.tagSubmit(e.tag,a).then((function(e){})):t.tagCampaignSubmit(e.tag).then((function(e){})):t.tagEditSubmit(e.tag,a,e.id,e.selected)})),t.state.notes.forEach((function(e){-1===e.id?t.noteSubmit(e.note,e.private,a).then((function(e){})):t.noteEditSubmit(e.note,e.private,e.id).then((function(e){}))})),t.props.previous()}))}},{key:"noteSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes/",{method:"POST",mode:this.mode,headers:this.headers,body:JSON.stringify({campaign:this.props.id,card:n,note:t,private:a})});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"noteEditSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes/"+n+"/",{method:"PUT",mode:this.mode,headers:this.headers,body:JSON.stringify({note:t,private:a})});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"tagSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tags/",{method:"POST",mode:this.mode,headers:this.headers,body:JSON.stringify({campaign:this.props.id,card:a,tag:t})});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"tagCampaignSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tags/",{method:"POST",mode:this.mode,headers:this.headers,body:JSON.stringify({campaign:this.props.id,tag:t})});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tagEditSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a,n,r){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tags/"+n+"/",{method:"PUT",mode:this.mode,headers:this.headers,body:JSON.stringify({card:a,remove:!r,tag:t})});case 2:return i=e.sent,e.abrupt("return",i.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"cardSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/cards/",{method:"POST",mode:this.mode,headers:this.headers,body:JSON.stringify({campaign:this.props.id,name:this.state.name,description:this.state.description})});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cardEditSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/cards/"+t+"/",{method:"PUT",mode:this.mode,headers:this.headers,body:JSON.stringify({campaign:this.props.id,name:this.state.name,description:this.state.description})});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j,{search:!1,previous:this.props.previous,title:"Create Card"}),r.a.createElement("form",{className:"card-form"},r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"img"}),r.a.createElement("input",{placeholder:"Name",onChange:this.input,value:this.state.name,type:"text",name:"name",autoComplete:"off"}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{onKeyDown:this.handleKeyDown,onChange:this.input,name:"description",value:this.state.description})),r.a.createElement("div",{className:"notes"},r.a.createElement("button",{className:"add-note",onClick:this.addNote},"Note +"),this.state.notes.map((function(t,a){return r.a.createElement("div",{className:"note",key:a},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:a,checked:t.private,onChange:e.togglePrivate}),r.a.createElement("span",{className:"slider round"})),r.a.createElement("p",null,t.private?"Private":"Public"," "),r.a.createElement("textarea",{name:a,onKeyDown:e.handleKeyDown,onChange:e.noteChange,value:t.note}))}))),r.a.createElement("div",{className:"tags"},r.a.createElement("button",{className:"add-tag",onClick:this.addTag},"tag +"),this.state.tags.map((function(t,a){return r.a.createElement("div",{className:"tag",key:a},r.a.createElement("label",{className:"checkbox bounce"},r.a.createElement("input",{type:"checkbox",name:a,className:t.selected?"checked":"",onChange:e.toggleSelected}),r.a.createElement("svg",{viewBox:"0 0 21 21"},r.a.createElement("polyline",{points:"5 10.75 8.5 14.25 16 6"}))),r.a.createElement("input",{name:a,value:t.tag,onChange:e.tagChange}))})))),r.a.createElement(R,{navClosed:this.props.navClosed,toggleNav:this.props.toggleNav,menu:r.a.createElement(pe,{onClick:this.submit}),setPage:this.setPage}))}}]),a}(r.a.Component)),me=(a(25),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={pages:[],page:{type:"index",id:0},navClosed:!0},n.setPage=n.setPage.bind(Object(h.a)(n)),n.toggleNav=n.toggleNav.bind(Object(h.a)(n)),n.previous=n.previous.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"setPage",value:function(e,t){this.setState({navClosed:!0}),this.setState({page:{type:e,id:t}}),this.setState({pages:[].concat(Object(p.a)(this.state.pages),[{type:e,id:t}])})}},{key:"previous",value:function(){this.setState({navClosed:!0});var e=this.state.pages;e.pop(),0===e.length?(this.setState({page:{type:"index",id:0}}),this.setState({pages:[]})):(this.setState({page:e[e.length-1]}),this.setState({pages:e}))}},{key:"toggleNav",value:function(){this.setState({navClosed:!this.state.navClosed})}},{key:"render",value:function(){var e;return"index"===this.state.page.type&&(e=r.a.createElement(q,{toggleNav:this.toggleNav,navClosed:this.state.navClosed,setPage:this.setPage})),"campaign"===this.state.page.type&&(e=r.a.createElement(ae,{toggleNav:this.toggleNav,navClosed:this.state.navClosed,setPage:this.setPage,previous:this.previous,id:this.state.page.id})),"campaign form"===this.state.page.type&&-1===this.state.page.id&&(e=r.a.createElement(he,{toggleNav:this.toggleNav,navClosed:this.state.navClosed,setPage:this.setPage,previous:this.previous})),"card form"===this.state.page.type&&(-1===this.state.page.id&&(e=r.a.createElement(de,{id:this.state.pages[this.state.pages.length-2].id,toggleNav:this.toggleNav,navClosed:this.state.navClosed,setPage:this.setPage,previous:this.previous})),this.state.page.id>=0&&(e=r.a.createElement(de,{cardid:this.state.page.id,id:this.state.pages[this.state.pages.length-2].id,toggleNav:this.toggleNav,navClosed:this.state.navClosed,setPage:this.setPage,previous:this.previous}))),r.a.createElement("div",{className:"footer-fix"},e)}}]),a}(n.Component)),fe=(a(26),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n.input=n.input.bind(Object(h.a)(n)),n.login=n.login.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"input",value:function(e){var t=e.target;this.setState(Object(ne.a)({},t.name,t.value))}},{key:"login",value:function(e){e.preventDefault(),this.loginSubmit().then((function(e){localStorage.setItem("token",e.token),window.location.pathname="/"})).catch((function(e){return console.log(e)}))}},{key:"loginSubmit",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"landing-login-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Sign In With")),r.a.createElement("div",{className:"form-body"},r.a.createElement("label",null,"Username",r.a.createElement("input",{onChange:this.input,type:"text",name:"username",value:this.state.username})),r.a.createElement("label",null,"Password ",r.a.createElement("span",null,r.a.createElement("u",null,r.a.createElement("em",null,"forgot?"))),r.a.createElement("input",{onChange:this.input,type:"password",name:"password",value:this.state.password})),r.a.createElement("button",{onClick:this.login,id:"login",name:"login"},"Login"),r.a.createElement("p",null,"Not a Member?",r.a.createElement("button",{id:"sign_up",type:"button"},r.a.createElement("u",null,r.a.createElement("em",null,"Sign up now")))))))}}]),a}(r.a.Component)),ge=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={user:localStorage.getItem("token")},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){return"/token="===window.location.pathname.substr(0,7)?(localStorage.setItem("token",window.location.pathname.substr(7,window.location.pathname.length-1)),void(window.location="/")):"/logout"===window.location.pathname?(localStorage.removeItem("token"),this.setState({user:localStorage.getItem("token")}),void(window.location.pathname="/api/logout")):void 0}},{key:"render",value:function(){return"undefined"!==this.state.user&&this.state.user?r.a.createElement(me,null):r.a.createElement(fe,null)}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.b1f9d7d6.chunk.js.map